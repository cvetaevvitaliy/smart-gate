<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1134px" preserveAspectRatio="none" style="width:1038px;height:1134px;" version="1.1" viewBox="0 0 1038 1134" width="1038px" zoomAndPan="magnify"><defs><filter height="300%" id="fjfmlvii4xc4l" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><ellipse cx="283.444" cy="18" fill="#000000" filter="url(#fjfmlvii4xc4l)" rx="10" ry="10" style="stroke: none; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#fjfmlvii4xc4l)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="121" x="222.944" y="89"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="222.944" x2="343.944" y1="115.0986" y2="115.0986"/><text fill="#000000" font-family="Arial" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="101" x="232.944" y="107.3608">wait_for_unprov</text><rect fill="#FEFECE" filter="url(#fjfmlvii4xc4l)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="96" x="139.444" y="215"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="139.444" x2="235.444" y1="241.0986" y2="241.0986"/><text fill="#000000" font-family="Arial" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="76" x="149.444" y="233.3608">provisioning</text><rect fill="#FEFECE" filter="url(#fjfmlvii4xc4l)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="68" x="313.444" y="1073"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="313.444" x2="381.444" y1="1099.0986" y2="1099.0986"/><text fill="#000000" font-family="Arial" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="48" x="323.444" y="1091.3608">running</text><rect fill="#FEFECE" filter="url(#fjfmlvii4xc4l)" height="656.0986" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="355" x="169.944" y="341"/><rect fill="#FFFFFF" height="624" rx="12.5" ry="12.5" style="stroke: #FFFFFF; stroke-width: 1.0;" width="349" x="172.944" y="370.0986"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="169.944" x2="524.944" y1="367.0986" y2="367.0986"/><text fill="#000000" font-family="Arial" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="70" x="312.444" y="359.3608">configuring</text><ellipse cx="262.444" cy="390.0986" fill="#000000" filter="url(#fjfmlvii4xc4l)" rx="10" ry="10" style="stroke: none; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#fjfmlvii4xc4l)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="163" x="180.944" y="452.0986"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="180.944" x2="343.944" y1="478.1973" y2="478.1973"/><text fill="#000000" font-family="Arial" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="143" x="190.944" y="470.4595">wait_composition_data</text><rect fill="#FEFECE" filter="url(#fjfmlvii4xc4l)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="130" x="197.444" y="554.0986"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="197.444" x2="327.444" y1="580.1973" y2="580.1973"/><text fill="#000000" font-family="Arial" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="110" x="207.444" y="572.4595">wait_appkey_add</text><rect fill="#FEFECE" filter="url(#fjfmlvii4xc4l)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="133" x="195.944" y="656.0986"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="195.944" x2="328.944" y1="682.1973" y2="682.1973"/><text fill="#000000" font-family="Arial" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="113" x="205.944" y="674.4595">wait_appkey_bind</text><rect fill="#FEFECE" filter="url(#fjfmlvii4xc4l)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="147" x="188.944" y="758.0986"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="188.944" x2="335.944" y1="784.1973" y2="784.1973"/><text fill="#000000" font-family="Arial" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="127" x="198.944" y="776.4595">wait_publication_set</text><rect fill="#FEFECE" filter="url(#fjfmlvii4xc4l)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="160" x="182.444" y="860.0986"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="182.444" x2="342.444" y1="886.1973" y2="886.1973"/><text fill="#000000" font-family="Arial" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="140" x="192.444" y="878.4595">wait_subscription_add</text><ellipse cx="262.444" cy="972.0986" fill="none" filter="url(#fjfmlvii4xc4l)" rx="10" ry="10" style="stroke: #000000; stroke-width: 1.0;"/><ellipse cx="262.944" cy="972.5986" fill="#000000" rx="6" ry="6" style="stroke: none; stroke-width: 1.0;"/><!--link *start*configuring to wait_composition_data--><path d="M262.444,400.1946 C262.444,411.1996 262.444,430.2766 262.444,446.5506 " fill="none" id="*start*configuring-wait_composition_data" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="262.444,451.9466,266.444,442.9466,262.444,446.9466,258.444,442.9466,262.444,451.9466" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="227" x="263.444" y="431.5051">Status success / Get composition data</text><!--link wait_composition_data to wait_appkey_add--><path d="M262.444,502.3056 C262.444,516.2056 262.444,533.7676 262.444,548.4856 " fill="none" id="wait_composition_data-wait_appkey_add" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="262.444,553.7676,266.444,544.7676,262.444,548.7676,258.444,544.7676,262.444,553.7676" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="217" x="263.444" y="533.5051">Status success / Add application key</text><!--link wait_appkey_add to wait_appkey_bind--><path d="M262.444,604.3056 C262.444,618.2056 262.444,635.7676 262.444,650.4856 " fill="none" id="wait_appkey_add-wait_appkey_bind" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="262.444,655.7676,266.444,646.7676,262.444,650.7676,258.444,646.7676,262.444,655.7676" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="220" x="263.444" y="635.5051">Status success / Bind application key</text><!--link wait_appkey_bind to wait_publication_set--><path d="M262.444,706.3056 C262.444,720.2056 262.444,737.7676 262.444,752.4856 " fill="none" id="wait_appkey_bind-wait_publication_set" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="262.444,757.7676,266.444,748.7676,262.444,752.7676,258.444,748.7676,262.444,757.7676" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="222" x="263.444" y="737.5051">Status success / Set publication state</text><!--link wait_publication_set to wait_subscription_add--><path d="M262.444,808.3056 C262.444,822.2056 262.444,839.7676 262.444,854.4856 " fill="none" id="wait_publication_set-wait_subscription_add" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="262.444,859.7676,266.444,850.7676,262.444,854.7676,258.444,850.7676,262.444,859.7676" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="200" x="263.444" y="839.5051">Status success / Add subscription</text><!--link wait_subscription_add to *end*configuring--><path d="M262.444,910.2288 C262.444,925.3459 262.444,944.3027 262.444,957.0089 " fill="none" id="wait_subscription_add-*end*configuring" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="262.444,962.0424,266.444,953.0424,262.444,957.0424,258.444,953.0424,262.444,962.0424" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="91" x="263.444" y="941.5051">Status success</text><!--link *start to wait_for_unprov--><path d="M283.444,28.01 C283.444,40.7 283.444,64.41 283.444,83.57 " fill="none" id="*start-wait_for_unprov" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="283.444,88.84,287.444,79.84,283.444,83.84,279.444,79.84,283.444,88.84" style="stroke: #A80036; stroke-width: 1.0;"/><!--link wait_for_unprov to provisioning--><path d="M222.705,118.49 C151.605,123.985 40.2524,137.495 14.4437,169 C-21.2045,212.516 71.0727,229.203 134.154,235.438 " fill="none" id="wait_for_unprov-provisioning" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="139.401,235.939,130.8224,231.1008,134.4237,235.4633,130.0612,239.0645,139.401,235.939" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="160" x="15.4437" y="182.4065">Unprovisioned UUID beacon</text><!--link provisioning to wait_for_unprov--><path d="M194.156,214.769 C198.877,200.527 206.196,182.69 216.444,169 C223.729,159.268 233.153,150.266 242.619,142.515 " fill="none" id="provisioning-wait_for_unprov" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="246.673,139.27,237.1467,141.7701,242.7691,142.394,242.1451,148.0163,246.673,139.27" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="103" x="217.444" y="182.4065">Provisioning failed</text><!--link provisioning to configuring--><path d="M183.389,265.234 C181.862,278.832 181.186,296.024 184.444,311 C186.227,319.201 188.217,327.44 190.388,335.693 " fill="none" id="provisioning-configuring" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="191.763,340.834,193.2998,331.1058,190.4702,336.004,185.5719,333.1743,191.763,340.834" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="135" x="185.444" y="308.4065">Provisioning successful</text><!--link configuring to wait_for_unprov--><path d="M361.796,340.823 C356.324,282.345 345.281,222.916 325.444,169 C322.087,159.877 316.584,151.069 310.65,143.305 " fill="none" id="configuring-wait_for_unprov" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="307.32,139.104,309.7792,148.6409,310.4272,143.0213,316.0469,143.6693,307.32,139.104" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="247" x="351.444" y="245.4065">Configuring failed / Delete provisioning data</text><!--link configuring to wait_for_unprov--><path d="M525.022,516.004 C609.165,425.41 677.504,309.945 607.444,215 C576.643,173.259 434.694,141.596 349.23,125.917 " fill="none" id="configuring-wait_for_unprov" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="344.192,124.999,352.3297,130.5467,349.1111,125.8948,353.763,122.6762,344.192,124.999" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="396" x="630.444" y="245.4065">Configuring successful &amp;&amp; device_count &lt; SERVER_NODE_COUNT</text><!--link configuring to running--><path d="M347.444,997.157 C347.444,1025.3703 347.444,1049.846 347.444,1067.5026 " fill="none" id="configuring-running" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="347.444,1072.7599,351.444,1063.7599,347.444,1067.7599,343.444,1063.7599,347.444,1072.7599" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="404" x="348.444" y="1040.4065">Configuring successful &amp;&amp; device_count == SERVER_NODE_COUNT</text><!--
@startuml
skinparam defaultFontName Arial

  [*] - -> wait_for_unprov

  wait_for_unprov - -> provisioning: Unprovisioned UUID beacon
  provisioning - -> wait_for_unprov: Provisioning failed
  provisioning - -> configuring: Provisioning successful

  configuring - -> wait_for_unprov: Configuring failed / Delete provisioning data
  configuring - -> wait_for_unprov: Configuring successful && device_count < SERVER_NODE_COUNT

  configuring - -> running: Configuring successful && device_count == SERVER_NODE_COUNT

  state configuring {

  [*] - -> wait_composition_data: Status success / Get composition data
  wait_composition_data - -> wait_appkey_add: Status success / Add application key
  wait_appkey_add - -> wait_appkey_bind: Status success / Bind application key
  wait_appkey_bind - -> wait_publication_set: Status success / Set publication state
  wait_publication_set - -> wait_subscription_add: Status success / Add subscription
  wait_subscription_add - -> [*]: Status success
  }

@enduml

PlantUML version 1.2017.16(Sun Sep 03 12:53:37 CEST 2017)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.8.0_191-b12
Operating System: Windows 10
OS Version: 10.0
Default Encoding: Cp1252
Language: en
Country: US
--></g></svg>